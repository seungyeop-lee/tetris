# 개발일지

## 190210

- [Tetris Game Using JavaScript](https://youtu.be/HEsAr2Yt2do)를 보면서 실제로 테트리스를 구현해 보았다. [(구현 코드)](https://github.com/seungyeop-lee/tetris/tree/master/example-tetris)
- 구현을 하면서 충돌판단, 회전, 줄 없애기, 블록 고정에 대한 구현방법에 대해 배울 수 있었다.

### 예제의 테트리스 코드 분석

- 특징
  - canvas로 구현하였다.
  - 블록의 유무를 색으로 구분하였다.
- 장점
  - 블록이 좌우벽에 맞닿아있는 상태에서 회전이 가능하다.
- 단점
  - space를 눌러 한번에 내려보내는 기능이 없다.
  - 메소드의 분리가 덜 되있다. (특히 `lock()`메소드)
  - 현재의 게임 상태 정보가 흩어져있다.

## 190211

- 예제 테트리스를 토대로 개발을 시작하였다.
- 테이블로 구현하고 있으며, 추후 온라인을 통한 멀티 플레이를 염두하여 현재 게임 판의 상태를 별도의 배열로 저장하는 방식을 채택하였다.
- 현재 구현 상태
  - 게임 판에 해당하는 테이블
  - 현재 게임 판의 상태를 저장 할 배열
  - 블록 한개가 생기고 지워지는 부분

## 190212

- 키보드 이벤트 추가 (왼쪽 화살표, 오른쪽 화살표, 아래 화살표)
- 각 이벤트에 따른 블록 이동 메소드 추가
- 충돌여부 확인 메소드 추가

## 190213

- 테트리스 게임판의 비율 조정 (width : height == 1 : 2)
- 회전 메소드 추가
- 키보드 이벤트 추가 (위 화살표)
- 1초마다 블록 움직이는 기능 구현
- 블록 초기 위치 조정 (한칸씩 보이면서 내려오도록 수정)
  - 위치가 음수로 되면서 블록을 그리는 메소드와 패널 상태 저장 메소드에서 예외처리
- 위치 고정 메소드 구현 중

## 190218

- 위치 고정 메소드 구현 완료
- 게임오버 조건에 대한 처리 추가
- 열에 블록이 다 찼을때 열 삭제 처리 추가
- 랜덤 블록 생성 추가

점점 코드가 지저분해지고 있다. 스페이스를 눌러 한번에 내려가는 기능 구현 후 리펙토링을 해야겠다.

## 190219

- 가장 아래까지 한번에 내려가는 메소드 구현
- 키보드 이벤트 추가 (space 키)
- 반복문에 변수 선언 키워드 생략부분 수정
- 게임오버시 블록 사라짐 or 겹치는 버그 수정
- 사각 블록의 정의 배열의 4x4에서 2x2로 변경
  - 게임오버시 게임 판 밖에서 사각 블록이 원인이 되었을 경우 한칸 내려와 다른 블록과 겹치는 문제 수정